<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="Content-Language" content="en-us">
	<title>Zero Knowledge Compiler</title>
	<link rel="stylesheet" type="text/css" href="xtext/2.17.0/xtext-ace.css"/>
	<link rel="stylesheet" type="text/css" href="style.css"/>
	<script src="webjars/requirejs/2.3.6/require.min.js"></script>
	<script type="text/javascript">
		var baseUrl = window.location.pathname;
		var fileIndex = baseUrl.indexOf("index.html");
		if (fileIndex > 0)
			baseUrl = baseUrl.slice(0, fileIndex);
		require.config({
			baseUrl: baseUrl,
			paths: {
				"jquery": "webjars/jquery/3.3.1-1/jquery.min",
				"ace/ext/language_tools": "webjars/ace/1.3.3/src/ext-language_tools",
				"xtext/xtext-ace": "xtext/2.17.0/xtext-ace"
			}
		});
		require(["webjars/ace/1.3.3/src/ace"], function() {
			require(["xtext/xtext-ace"], function(xtext) {
				xtext.createEditor({
					baseUrl: baseUrl,
					syntaxDefinition: "xtext-resources/generated/mode-zkak",
					theme: "ace/theme/monokai",
					selectionUpdateDelay: 550,
					textUpdateDelay: 500
				}).setFontSize(18);
			});
		});
	</script>
</head>
<body>

<div id="container">
	<div id="data"></div>
	<div id="header">
		<h1 id="header-title">Zero Knowledge Compiler</h1>
		<div id="links">
			<a class="header-link" id="documentation-link">Documentation</a>
			<a class="header-link" id="source-link">Source code</a>
		</div>
		<img src="images/check.svg" style="display: none;">
	</div>
	<div id="content">
		<div id="editing">
			<div id="xtext-editor" data-editor-xtext-lang="zkak"></div>
		</div>
		<div id="features">
			<div id="preview">
				<textarea id="raw-latex"></textarea>
				<p id="latex-preview">Latex preview currently disabled</p>
			</div>
			<div id="control">
				<div id="options">
					<div id="options-checkboxes">
						<div class="checkbox-wrapper">
							<button class="option-checkbox checkbox-off" id="enable-latex-preview">
								<img class="checkbox-icon" src="data:image/gif;base64,R0lGODlhAQABAAAAACwAAAAAAQABAAA=">
							</button>
							<div class="checkbox-label">Enable LaTEX preview</label></div>
						</div>
						<div class="checkbox-wrapper">
							<button class="option-checkbox checkbox-off" id="enable-continuous-preview">
								<img class="checkbox-icon" src="data:image/gif;base64,R0lGODlhAQABAAAAACwAAAAAAQABAAA=">
							</button>
							<div class="checkbox-label">Enable continuous LaTEX preview update</div>
						</div>
						<div class="checkbox-wrapper">
							<button class="option-checkbox checkbox-off" id="enable-inlined-latex">
								<img class="checkbox-icon" src="data:image/gif;base64,R0lGODlhAQABAAAAACwAAAAAAQABAAA=">
							</button>
							<div class="checkbox-label">Enable inlining functions in LaTEX preview</div>
						</div>
						<div class="checkbox-wrapper">
							<button class="option-checkbox checkbox-off" id="enable-inlined-java">
								<img class="checkbox-icon" src="data:image/gif;base64,R0lGODlhAQABAAAAACwAAAAAAQABAAA=">
							</button>
							<div class="checkbox-label">Enable inlining functions in generate Java code</div>
						</div>
					</div>
					<div id="options-buttons">
						<div class="left">
							<div class="left">
								<button class="options-button" id="download-code" title="Downloads a .zkak file containing the contents of the code editor">Download editor code</button>
							</div>
							<div class="right">
								<button class="options-button" id="download-raw-latex" title="Downloads a .tex file containing the raw LaTEX used in the preview">Download raw LaTEX</button>
							</div>
						</div>
						<div class="right">
							<div class="left">
								<button class="options-button" id="compile-code" title="Compiles and downloads a .zip containing the Java project generated by the code">Compile and download Java code</button>
							</div>
							<div class="right">
								<button disabled class="options-button" id="update-latex-preview" title="Updates the LaTEX preview. Only needed when 'Enable continuous LaTEX update' is unchecked">Update LaTEX preview</button>
							</div>
						</div>
					</div>
				</div>

				<div id="console">
					<span class="info">Info: </span>Press 'Compile code' when your code has no validation errors to attempt compilation.
				</div>
			</div>

		</div>
	</div>
</div>

<script src="functionality.js"></script>
</body>
</html>
